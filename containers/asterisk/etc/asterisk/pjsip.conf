[global]
; Set global settings here

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

[transport-tls]
type=transport
protocol=tls
bind=0.0.0.0:5061
cert_file=/etc/asterisk/keys/asterisk.crt
priv_key_file=/etc/asterisk/keys/asterisk.key
verify_client=no
require_client_cert=no

[transport-ws]
type=transport
protocol=ws
bind=0.0.0.0:8088

[transport-wss]
type=transport
protocol=wss
bind=0.0.0.0:8089

; ---------- Home Assistant (sipjs-card) ----------
; Zugangsdaten kommen via env/entrypoint â€“ Defaults gesetzt
; HOMEASSISTANT_USER / HOMEASSISTANT_PASS

[1002-auth]
type=auth
auth_type=userpass
username=1002
password=Caliba#355

[1002-aor]
type=aor
max_contacts=1

[1002]
type=endpoint
aors=1002-aor
auth=1002-auth
transport=transport-wss
context=public
disallow=all
allow=opus,ulaw,alaw
direct_media=no
dtmf_mode=rfc4733
force_rport=yes
; DTLS-SRTP (WebRTC)
webrtc=yes
media_encryption=dtls
dtls_setup=actpass
dtls_auto_generate_cert=no
dtls_cert_file=/etc/asterisk/keys/asterisk.crt
dtls_private_key=/etc/asterisk/keys/asterisk.key
dtls_verify=no
use_avpf=yes
ice_support=yes

; ---------- Doorbird SIP Endpoint ----------
; Extension 1003 = Doorbird-Station

[1003-auth]
type=auth
auth_type=userpass
username=1003
password=Caliba#355

[1003-aor]
type=aor
max_contacts=1

[1003]
type=endpoint
aors=1003-aor
auth=1003-auth
transport=transport-udp
context=public
disallow=all
allow=alaw,ulaw,g722
direct_media=no
dtmf_mode=rfc4733
force_rport=yes
rtp_symmetric=yes
media_encryption=none
